package game

import (
	"github.com/dradtke/go-allegro/allegro"
	"go.owls.io/fauxbox/engine"
)

////////////////////////////////////////////////////////////////////////////////
// SYSTEM //////////////////////////////////////////////////////////////////////
////////////

type GlobalKeybinds struct{}

func init() {
	engine.Register(&GlobalKeybinds{})
}

////////////////////////////////////////////////////////////////////////////////
// CALLBACKS ///////////////////////////////////////////////////////////////////
///////////////

func (gk GlobalKeybinds) ProcessEvent(event interface{}) {
	switch e := event.(type) {
	case allegro.KeyDownEvent:
		switch e.KeyCode() {
		case allegro.KEY_Q:
			engine.EndGame()
		}
	}
}
